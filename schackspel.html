<html>
    <head>
        <meta charset="utf-8">
    </head>
<script>

var wrongInputString = 'Wrong input';
    
// Kollar vilka förflyttningar som är möjliga
function availableMoves(currentPosition) {

    let positionX = getXFromString(currentPosition[0])
    let positionY = Number.parseInt(currentPosition[1])

    if(positionY < 1 || positionY > 8 || currentPosition.length > 2){
        return console.log(wrongInputString + ' on number');
    } else {

    let availablePositions = []

    if (isOnBoardXY(positionX - 2, positionY - 1)){
        availablePositions.push(coordinatesToPosition(positionX - 2, positionY - 1))
    }    
    if (isOnBoardXY(positionX - 2, positionY + 1)){
        availablePositions.push(coordinatesToPosition(positionX - 2, positionY + 1))
    }
    if (isOnBoardXY(positionX + 2, positionY - 1)){
        availablePositions.push(coordinatesToPosition(positionX + 2, positionY - 1))
    }    
    if (isOnBoardXY(positionX + 2, positionY + 1)){
        availablePositions.push(coordinatesToPosition(positionX + 2, positionY + 1))
    }
    if (isOnBoardXY(positionX - 1, positionY + 2)){
        availablePositions.push(coordinatesToPosition(positionX - 1, positionY + 2))
    }    
    if (isOnBoardXY(positionX + 1, positionY + 2)){
        availablePositions.push(coordinatesToPosition(positionX + 1, positionY + 2))
    }
    if (isOnBoardXY(positionX - 1, positionY - 2)){
        availablePositions.push(coordinatesToPosition(positionX - 1, positionY - 2))
    }    
    if (isOnBoardXY(positionX + 1, positionY - 2)){
        availablePositions.push(coordinatesToPosition(positionX + 1, positionY - 2))
    } 
        
    return availablePositions;
    }
}

// Kollar om riddaren är innanför banan och gör availableMoves lättare att läsa
function isOnBoard(position) {
        return position >= 1 && position <= 8;
}

// Gör availableMoves lättare att läsa
function isOnBoardXY(positionX, positionY) {
    return isOnBoard(positionX) && isOnBoard(positionY);
}

// Gör en siffra av en sträng som motsvarar schackbrädspositionen
function getXFromString(letter) {
    if (letter === 'A' || letter === 'a') {
        return 1;
    } else if (letter === 'B' || letter === 'b') {
        return 2;
    } else if (letter === 'C' || letter === 'c') {
        return 3;
    } else if (letter === 'D' || letter === 'd') {
        return 4;
    } else if (letter === 'E' || letter === 'e') {
        return 5;
    } else if (letter === 'F' || letter === 'f') {
        return 6;
    } else if (letter === 'G' || letter === 'g') {
        return 7;
    } else if (letter === 'H' || letter === 'h') {
        return 8;
    } else {
        return console.log(wrongInputString + ' on letter');
    }  
}

// Ändrar tillbaka Xposition till bokstav & lägger ihop med Yposition
function coordinatesToPosition(positionX, positionY) {
    
    if (positionX === 1) {
        return 'A' + positionY;
    } else if (positionX === 2) {
        return 'B' + positionY;
    } else if (positionX === 3) {
        return 'C' + positionY;
    } else if (positionX === 4) {
        return 'D' + positionY;
    } else if (positionX === 5) {
        return 'E' + positionY;
    } else if (positionX === 6) {
        return 'F' + positionY;
    } else if (positionX === 7) {
        return 'G' + positionY;
    } else if (positionX === 8) {
        return 'H' + positionY;
    }  
}

// Testfunction
function listContainsAll(items, shouldContain) {
    let result = true

    for (let i=0; i<shouldContain.length; i++) {
        let itemExists = items.includes(shouldContain[i])
        result = result && itemExists
    }

    return result
}

// tester
listContainsAll(availableMoves('F3'), ["D2", "D4", "H2", "H4", "E5", "G5", "E1", "G1"]);
listContainsAll(availableMoves('B7'), ['D8', 'D6', 'C5', 'A5'])

console.log('Använd funktionen availableMoves(), skriv in vilken position hästen' + '\n'
 + 'ska stå på inom parantesen med fnuttar runt om');

</script>
</html>

